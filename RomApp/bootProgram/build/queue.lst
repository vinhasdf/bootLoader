ARM GAS  C:\cygwin64\tmp\ccQvckNh.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"queue.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.getFreeQueueEntry,"ax",%progbits
  16              		.align	1
  17              		.global	getFreeQueueEntry
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	getFreeQueueEntry:
  25              	.LFB67:
  26              		.file 1 "Src/queue.c"
   1:Src/queue.c   **** #include "queue.h"
   2:Src/queue.c   **** 
   3:Src/queue.c   **** typedef struct {
   4:Src/queue.c   ****     queueEntry entry[MAX_QUEUE_SIZE];
   5:Src/queue.c   ****     uint8_t size;
   6:Src/queue.c   ****     uint8_t rp;
   7:Src/queue.c   ****     uint8_t wp;
   8:Src/queue.c   **** } queueType;
   9:Src/queue.c   **** 
  10:Src/queue.c   **** queueType queue;
  11:Src/queue.c   **** 
  12:Src/queue.c   **** queueEntry *getFreeQueueEntry(void)
  13:Src/queue.c   **** {
  27              		.loc 1 13 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  14:Src/queue.c   ****     queueEntry *result = 0;
  32              		.loc 1 14 5 view .LVU1
  33              	.LVL0:
  15:Src/queue.c   ****     if (queue.size < MAX_QUEUE_SIZE)
  34              		.loc 1 15 5 view .LVU2
  35              		.loc 1 15 14 is_stmt 0 view .LVU3
  36 0000 074B     		ldr	r3, .L4
  37 0002 93F8FF30 		ldrb	r3, [r3, #255]	@ zero_extendqisi2
  38              		.loc 1 15 8 view .LVU4
  39 0006 042B     		cmp	r3, #4
  40 0008 08D8     		bhi	.L3
  16:Src/queue.c   ****     {
  17:Src/queue.c   ****         result = &queue.entry[queue.wp];
  41              		.loc 1 17 9 is_stmt 1 view .LVU5
ARM GAS  C:\cygwin64\tmp\ccQvckNh.s 			page 2


  42              		.loc 1 17 36 is_stmt 0 view .LVU6
  43 000a 0548     		ldr	r0, .L4
  44 000c 90F80131 		ldrb	r3, [r0, #257]	@ zero_extendqisi2
  45              		.loc 1 17 16 view .LVU7
  46 0010 03EB4303 		add	r3, r3, r3, lsl #1
  47 0014 03EB0313 		add	r3, r3, r3, lsl #4
  48 0018 1844     		add	r0, r0, r3
  49              	.LVL1:
  50              		.loc 1 17 16 view .LVU8
  51 001a 7047     		bx	lr
  52              	.LVL2:
  53              	.L3:
  14:Src/queue.c   ****     if (queue.size < MAX_QUEUE_SIZE)
  54              		.loc 1 14 17 view .LVU9
  55 001c 0020     		movs	r0, #0
  18:Src/queue.c   ****     }
  19:Src/queue.c   ****     
  20:Src/queue.c   ****     return result;
  56              		.loc 1 20 5 is_stmt 1 view .LVU10
  21:Src/queue.c   **** }
  57              		.loc 1 21 1 is_stmt 0 view .LVU11
  58 001e 7047     		bx	lr
  59              	.L5:
  60              		.align	2
  61              	.L4:
  62 0020 00000000 		.word	queue
  63              		.cfi_endproc
  64              	.LFE67:
  66              		.section	.text.putQueueEntry,"ax",%progbits
  67              		.align	1
  68              		.global	putQueueEntry
  69              		.syntax unified
  70              		.thumb
  71              		.thumb_func
  72              		.fpu softvfp
  74              	putQueueEntry:
  75              	.LFB68:
  22:Src/queue.c   **** 
  23:Src/queue.c   **** void putQueueEntry(void)
  24:Src/queue.c   **** {
  76              		.loc 1 24 1 is_stmt 1 view -0
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 0
  79              		@ frame_needed = 0, uses_anonymous_args = 0
  80              		@ link register save eliminated.
  25:Src/queue.c   ****     queue.size++;
  81              		.loc 1 25 5 view .LVU13
  82              		.loc 1 25 10 is_stmt 0 view .LVU14
  83 0000 0A4A     		ldr	r2, .L7
  84 0002 92F8FF30 		ldrb	r3, [r2, #255]	@ zero_extendqisi2
  85              		.loc 1 25 15 view .LVU15
  86 0006 0133     		adds	r3, r3, #1
  87 0008 82F8FF30 		strb	r3, [r2, #255]
  26:Src/queue.c   ****     queue.wp++;
  88              		.loc 1 26 5 is_stmt 1 view .LVU16
  89              		.loc 1 26 10 is_stmt 0 view .LVU17
  90 000c 92F80131 		ldrb	r3, [r2, #257]	@ zero_extendqisi2
ARM GAS  C:\cygwin64\tmp\ccQvckNh.s 			page 3


  91              		.loc 1 26 13 view .LVU18
  92 0010 0133     		adds	r3, r3, #1
  93 0012 DBB2     		uxtb	r3, r3
  27:Src/queue.c   ****     queue.wp %= MAX_QUEUE_SIZE;     /* wrap to begin */
  94              		.loc 1 27 5 is_stmt 1 view .LVU19
  95              		.loc 1 27 14 is_stmt 0 view .LVU20
  96 0014 0649     		ldr	r1, .L7+4
  97 0016 A1FB0301 		umull	r0, r1, r1, r3
  98 001a 01F0FC00 		and	r0, r1, #252
  99 001e 00EB9101 		add	r1, r0, r1, lsr #2
 100 0022 5B1A     		subs	r3, r3, r1
 101 0024 82F80131 		strb	r3, [r2, #257]
  28:Src/queue.c   **** }
 102              		.loc 1 28 1 view .LVU21
 103 0028 7047     		bx	lr
 104              	.L8:
 105 002a 00BF     		.align	2
 106              	.L7:
 107 002c 00000000 		.word	queue
 108 0030 CDCCCCCC 		.word	-858993459
 109              		.cfi_endproc
 110              	.LFE68:
 112              		.section	.text.getreadQueueEntry,"ax",%progbits
 113              		.align	1
 114              		.global	getreadQueueEntry
 115              		.syntax unified
 116              		.thumb
 117              		.thumb_func
 118              		.fpu softvfp
 120              	getreadQueueEntry:
 121              	.LFB69:
  29:Src/queue.c   **** 
  30:Src/queue.c   **** queueEntry *getreadQueueEntry(void)
  31:Src/queue.c   **** {
 122              		.loc 1 31 1 is_stmt 1 view -0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 0
 125              		@ frame_needed = 0, uses_anonymous_args = 0
 126              		@ link register save eliminated.
  32:Src/queue.c   ****     queueEntry *result = 0;
 127              		.loc 1 32 5 view .LVU23
 128              	.LVL3:
  33:Src/queue.c   ****     if (queue.size > 0)
 129              		.loc 1 33 5 view .LVU24
 130              		.loc 1 33 14 is_stmt 0 view .LVU25
 131 0000 074B     		ldr	r3, .L12
 132 0002 93F8FF30 		ldrb	r3, [r3, #255]	@ zero_extendqisi2
 133              		.loc 1 33 8 view .LVU26
 134 0006 43B1     		cbz	r3, .L11
  34:Src/queue.c   ****     {
  35:Src/queue.c   ****         result = &queue.entry[queue.rp];
 135              		.loc 1 35 9 is_stmt 1 view .LVU27
 136              		.loc 1 35 36 is_stmt 0 view .LVU28
 137 0008 0548     		ldr	r0, .L12
 138 000a 90F80031 		ldrb	r3, [r0, #256]	@ zero_extendqisi2
 139              		.loc 1 35 16 view .LVU29
 140 000e 03EB4303 		add	r3, r3, r3, lsl #1
ARM GAS  C:\cygwin64\tmp\ccQvckNh.s 			page 4


 141 0012 03EB0313 		add	r3, r3, r3, lsl #4
 142 0016 1844     		add	r0, r0, r3
 143              	.LVL4:
 144              		.loc 1 35 16 view .LVU30
 145 0018 7047     		bx	lr
 146              	.LVL5:
 147              	.L11:
  32:Src/queue.c   ****     if (queue.size > 0)
 148              		.loc 1 32 17 view .LVU31
 149 001a 0020     		movs	r0, #0
  36:Src/queue.c   ****     }
  37:Src/queue.c   ****     
  38:Src/queue.c   ****     return result;
 150              		.loc 1 38 5 is_stmt 1 view .LVU32
  39:Src/queue.c   **** }
 151              		.loc 1 39 1 is_stmt 0 view .LVU33
 152 001c 7047     		bx	lr
 153              	.L13:
 154 001e 00BF     		.align	2
 155              	.L12:
 156 0020 00000000 		.word	queue
 157              		.cfi_endproc
 158              	.LFE69:
 160              		.section	.text.getQueueEntry,"ax",%progbits
 161              		.align	1
 162              		.global	getQueueEntry
 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 166              		.fpu softvfp
 168              	getQueueEntry:
 169              	.LFB70:
  40:Src/queue.c   **** 
  41:Src/queue.c   **** void getQueueEntry(void)
  42:Src/queue.c   **** {
 170              		.loc 1 42 1 is_stmt 1 view -0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 0
 173              		@ frame_needed = 0, uses_anonymous_args = 0
 174              		@ link register save eliminated.
  43:Src/queue.c   ****     queue.entry[queue.rp].pos = 0;  /* reset pos */
 175              		.loc 1 43 5 view .LVU35
 176              		.loc 1 43 22 is_stmt 0 view .LVU36
 177 0000 0E49     		ldr	r1, .L15
 178 0002 91F80031 		ldrb	r3, [r1, #256]	@ zero_extendqisi2
 179              		.loc 1 43 31 view .LVU37
 180 0006 03EB4302 		add	r2, r3, r3, lsl #1
 181 000a 02EB0212 		add	r2, r2, r2, lsl #4
 182 000e 0A44     		add	r2, r2, r1
 183 0010 0020     		movs	r0, #0
 184 0012 82F83200 		strb	r0, [r2, #50]
  44:Src/queue.c   ****     queue.size--;
 185              		.loc 1 44 5 is_stmt 1 view .LVU38
 186              		.loc 1 44 10 is_stmt 0 view .LVU39
 187 0016 91F8FF20 		ldrb	r2, [r1, #255]	@ zero_extendqisi2
 188              		.loc 1 44 15 view .LVU40
 189 001a 013A     		subs	r2, r2, #1
ARM GAS  C:\cygwin64\tmp\ccQvckNh.s 			page 5


 190 001c 81F8FF20 		strb	r2, [r1, #255]
  45:Src/queue.c   ****     queue.rp++;
 191              		.loc 1 45 5 is_stmt 1 view .LVU41
 192              		.loc 1 45 13 is_stmt 0 view .LVU42
 193 0020 0133     		adds	r3, r3, #1
 194 0022 DBB2     		uxtb	r3, r3
  46:Src/queue.c   ****     queue.rp %= MAX_QUEUE_SIZE;     /* wrap to begin */
 195              		.loc 1 46 5 is_stmt 1 view .LVU43
 196              		.loc 1 46 14 is_stmt 0 view .LVU44
 197 0024 064A     		ldr	r2, .L15+4
 198 0026 A2FB0302 		umull	r0, r2, r2, r3
 199 002a 02F0FC00 		and	r0, r2, #252
 200 002e 00EB9202 		add	r2, r0, r2, lsr #2
 201 0032 9B1A     		subs	r3, r3, r2
 202 0034 81F80031 		strb	r3, [r1, #256]
  47:Src/queue.c   **** }
 203              		.loc 1 47 1 view .LVU45
 204 0038 7047     		bx	lr
 205              	.L16:
 206 003a 00BF     		.align	2
 207              	.L15:
 208 003c 00000000 		.word	queue
 209 0040 CDCCCCCC 		.word	-858993459
 210              		.cfi_endproc
 211              	.LFE70:
 213              		.section	.text.getQeueuSize,"ax",%progbits
 214              		.align	1
 215              		.global	getQeueuSize
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 219              		.fpu softvfp
 221              	getQeueuSize:
 222              	.LFB71:
  48:Src/queue.c   **** 
  49:Src/queue.c   **** uint8_t getQeueuSize(void)
  50:Src/queue.c   **** {
 223              		.loc 1 50 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227              		@ link register save eliminated.
  51:Src/queue.c   ****     return queue.size;
 228              		.loc 1 51 5 view .LVU47
  52:Src/queue.c   **** }...
 229              		.loc 1 52 1 is_stmt 0 view .LVU48
 230 0000 014B     		ldr	r3, .L18
 231 0002 93F8FF00 		ldrb	r0, [r3, #255]	@ zero_extendqisi2
 232 0006 7047     		bx	lr
 233              	.L19:
 234              		.align	2
 235              	.L18:
 236 0008 00000000 		.word	queue
 237              		.cfi_endproc
 238              	.LFE71:
 240              		.comm	queue,258,4
 241              		.text
ARM GAS  C:\cygwin64\tmp\ccQvckNh.s 			page 6


 242              	.Letext0:
 243              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 244              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 245              		.file 4 "Drivers/CMSIS/CM3/CoreSupport/core_cm3.h"
 246              		.file 5 "Drivers/CMSIS/CM3/DeviceSupport/ST/STM32F10x/system_stm32f10x.h"
 247              		.file 6 "Inc/queue.h"
ARM GAS  C:\cygwin64\tmp\ccQvckNh.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 queue.c
C:\cygwin64\tmp\ccQvckNh.s:16     .text.getFreeQueueEntry:00000000 $t
C:\cygwin64\tmp\ccQvckNh.s:24     .text.getFreeQueueEntry:00000000 getFreeQueueEntry
C:\cygwin64\tmp\ccQvckNh.s:62     .text.getFreeQueueEntry:00000020 $d
                            *COM*:00000102 queue
C:\cygwin64\tmp\ccQvckNh.s:67     .text.putQueueEntry:00000000 $t
C:\cygwin64\tmp\ccQvckNh.s:74     .text.putQueueEntry:00000000 putQueueEntry
C:\cygwin64\tmp\ccQvckNh.s:107    .text.putQueueEntry:0000002c $d
C:\cygwin64\tmp\ccQvckNh.s:113    .text.getreadQueueEntry:00000000 $t
C:\cygwin64\tmp\ccQvckNh.s:120    .text.getreadQueueEntry:00000000 getreadQueueEntry
C:\cygwin64\tmp\ccQvckNh.s:156    .text.getreadQueueEntry:00000020 $d
C:\cygwin64\tmp\ccQvckNh.s:161    .text.getQueueEntry:00000000 $t
C:\cygwin64\tmp\ccQvckNh.s:168    .text.getQueueEntry:00000000 getQueueEntry
C:\cygwin64\tmp\ccQvckNh.s:208    .text.getQueueEntry:0000003c $d
C:\cygwin64\tmp\ccQvckNh.s:214    .text.getQeueuSize:00000000 $t
C:\cygwin64\tmp\ccQvckNh.s:221    .text.getQeueuSize:00000000 getQeueuSize
C:\cygwin64\tmp\ccQvckNh.s:236    .text.getQeueuSize:00000008 $d

NO UNDEFINED SYMBOLS
